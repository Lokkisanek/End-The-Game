<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>End The Game Desktop</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Power Screen -->
  <div id="power-screen">
    <button id="power-btn" aria-label="Zapnout systÃ©m">
      <div class="power-icon">â»</div>
      <span class="power-text">INITIALIZE SYSTEM</span>
    </button>
  </div>

  <!-- Dev Reset Button (Global) -->
  <button id="dev-reset-btn" style="position: fixed; top: 10px; right: 10px; z-index: 99999; opacity: 0.5; background: #000; border: 1px solid #f00; color: #f00; padding: 5px 10px; cursor: pointer; font-size: 0.7rem; font-family: monospace;">RESET STORAGE</button>

  <!-- Login Screen -->
  <div id="login-screen" style="display: none;">
    <div class="login-container">
      <div class="user-avatar">ğŸ‘¤</div>
      <h2 class="user-name">Admin</h2>
      <div class="password-wrapper">
        <input type="password" id="login-password" placeholder="Enter Password" autocomplete="off">
        <button id="toggle-password" aria-label="Show password">ğŸ‘ï¸</button>
        <div class="password-cursor"></div>
      </div>
      <button id="login-submit-btn" class="login-btn">LOGIN</button>
      <div class="login-status" id="login-status"></div>
    </div>
  </div>

  <div id="desktop-screen" style="display: none;">
    <div class="desktop" id="desktop">
      <div class="icon-grid">
        <button class="desktop-icon" data-app="browser">
          <span class="icon-symbol">â¬¤</span>
          <span class="icon-label">Deep Web Browser</span>
        </button>
        <button class="desktop-icon" data-app="tor">
          <span class="icon-symbol">ğŸ§…</span>
          <span class="icon-label">Tor Client</span>
        </button>
        <button class="desktop-icon" data-app="files">
          <span class="icon-symbol">ğŸ—</span>
          <span class="icon-label">Archive</span>
        </button>
        <button class="desktop-icon" data-app="notes">
          <span class="icon-symbol">âœ</span>
          <span class="icon-label">PoznÃ¡mkovÃ½ Blok</span>
        </button>
        <button class="desktop-icon" data-app="paint">
          <span class="icon-symbol">ğŸ¨</span>
          <span class="icon-label">Studio</span>
        </button>
      </div>
    </div>

    <div class="taskbar">
      <div class="taskbar-left">
        <button class="start-button" aria-label="Start">
          <span class="start-icon">â–</span>
        </button>
        <div class="search-bar">
          <span class="search-icon">ğŸ”</span>
          <input type="text" placeholder="Type here to search" id="taskbar-search-input">
        </div>
      </div>
      
      <div class="taskbar-apps" id="taskbarApps" aria-live="polite"></div>
      
      <div class="taskbar-right">
        <div class="system-tray">
          <button class="tray-icon" id="wifi-icon" aria-label="Network">
            <span class="wifi-symbol">ğŸŒ</span>
          </button>
          <button class="tray-icon" id="volume-icon" aria-label="Volume">
            <span>ğŸ”Š</span>
          </button>
          <div class="taskbar-clock" id="taskbarClock">
            <div class="time">12:00</div>
            <div class="date">12/05/2025</div>
          </div>
          <button class="tray-icon notification-center" aria-label="Notifications">
            <span>ğŸ’¬</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Volume Popup -->
    <div id="volume-popup" class="system-popup volume-popup" style="display: none;">
      <div class="volume-header">Speakers (High Definition Audio)</div>
      <div class="volume-control">
        <span class="volume-icon">ğŸ”Š</span>
        <input type="range" id="volume-slider" min="0" max="100" value="100">
        <span id="volume-value">100</span>
      </div>
    </div>

    <!-- Wi-Fi Popup -->
    <div id="wifi-popup" class="system-popup" style="display: none;">
      <div class="popup-header">Networks</div>
      <div class="wifi-list" id="wifi-list">
        <!-- Populated by JS -->
      </div>
      <div class="wifi-actions">
        <button class="wifi-action-btn">Network & Internet settings</button>
      </div>
    </div>

    <!-- Search Popup -->
    <div id="search-popup" class="system-popup search-popup" style="display: none;">
      <div class="search-header">
        <span>All Apps</span>
      </div>
      <div class="search-results" id="search-results">
        <!-- Populated by JS -->
      </div>
    </div>

    <!-- Layer for popups, modals, and threat visuals -->
    <div id="popupLayer" aria-hidden="true"></div>
    <div id="threatOverlay" aria-hidden="true"></div>
  </div>

  <div class="start-menu" id="startMenu" aria-hidden="true">
    <div class="start-menu__sidebar">
      <button class="sidebar-btn" id="power-menu-btn" title="Power">â»</button>
      <button class="sidebar-btn" title="Settings">âš™</button>
      <button class="sidebar-btn" title="Pictures">ğŸ–¼</button>
      <button class="sidebar-btn" title="Documents">ğŸ“„</button>
      <button class="sidebar-btn user-btn" title="User">ğŸ‘¤</button>
    </div>
    <div class="start-menu__content">
      <div class="start-menu__apps">
        <button data-app="browser">
          <span class="app-icon">â¬¤</span> Deep Web Browser
        </button>
        <button data-app="tor">
          <span class="app-icon">ğŸ§…</span> Tor Client
        </button>
        <button data-app="files">
          <span class="app-icon">ğŸ—</span> Archive
        </button>
        <button data-app="notes">
          <span class="app-icon">âœ</span> PoznÃ¡mkovÃ½ Blok
        </button>
        <button data-app="paint">
          <span class="app-icon">ğŸ¨</span> Studio
        </button>
      </div>
    </div>

    <!-- Tiles Area (Right Side) -->
    <div class="start-menu__tiles"></div>
    
    <!-- Power Menu Flyout -->
    <div id="power-menu" class="power-menu" style="display: none;">
      <button id="btn-sleep">Sleep</button>
      <button id="btn-shutdown">Shut down</button>
      <button id="btn-restart">Restart</button>
      <button id="btn-logout">Sign out</button>
    </div>
  </div>

  <template id="window-template">
    <div class="window" data-app="">
      <header class="window__header">
        <div class="window__title"></div>
        <div class="window__actions">
          <button class="window__btn window__btn--min" aria-label="Minimize">&#8722;</button>
          <button class="window__btn window__btn--close" aria-label="Close">&#10005;</button>
        </div>
      </header>
      <div class="window__content"></div>
    </div>
  </template>

  <script src="script.js" type="module"></script>
</body>
</html>
